{"version":3,"sources":["services/firebase.js","components/products/product.js","pages/signup.js"],"names":["getUserByUserId","userId","a","firebase","firestore","collection","where","get","result","docs","map","item","data","docId","id","getUserOrderByUserId","doesUserEmailExists","emailAddress","length","getAllProductDetails","items","getProductByProductId","proId","doc","then","getProductWithUserDetails","user","userDetails","userCartedProduct","cart","cartItem","productWithUserDetails","getUserCartItems","size","count","name","price","userCart","getUserOrderItems","orders","order","userOrder","Product","productname","productprice","productdescription","to","className","src","Signup","useContext","FirebaseContext","useState","setName","email","setEmail","mobile","setMobile","password","setPassword","error","setError","history","useHistory","isInvalid","handleSignup","event","preventDefault","auth","createUserWithEmailAndPassword","createdUser","updateProfile","displayName","add","uid","userName","toLowerCase","userMobile","userEmail","dateCreated","Date","now","push","ROUTES","message","useEffect","document","title","method","onSubmit","onChange","target","value","type","placeholder","disabled"],"mappings":"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","file":"static/js/9.ee774c6c.chunk.js","sourcesContent":["import Product from '../components/products/product'\nimport { firebase, FieldValue } from '../lib/firebase'\n\n\nexport async function getUserByUserId(userId) {\n\n    const result = await firebase.firestore().collection('users').where(\"userId\", '==', userId).get()\n    //here () this is used to return the value or we can use without ({}) but only one value\n\n    return result.docs.map((item) => ({\n        ...item.data(),\n        docId: item.id\n    }))\n\n}\n\nexport async function getUserOrderByUserId(userId) {\n    const result = await firebase.firestore().collection('orders').where(\"userId\", \"==\", userId).get()\n    return result.docs.map((item) => ({\n        ...item.data(),\n        docId: item.id\n    }))\n}\n\n\n\n\nexport async function doesUserEmailExists(emailAddress) {\n    const result = await firebase.firestore().collection('users').where('userEmail', '==', emailAddress).get()\n\n    return result.docs.map((item) => item.data().length > 0)\n}\n\nexport async function getAllProductDetails() {\n    const result = await firebase.firestore().collection('products').get()\n    return result.docs.map((items) => ({ ...items.data(), docId: items.id }))\n\n}\nexport async function getProductByProductId(proId) {\n\n    const result = await firebase.firestore().collection('products').doc(proId).get()\n        .then((doc) => ({\n            ...doc.data()\n\n        }))\n\n\n\n    return result\n\n}\n\nexport async function getProductWithUserDetails(proId, userId) {\n    const user = await firebase.firestore().collection('users').where(\"userId\", '==', userId).get()\n\n    const userDetails = user.docs.map((item) => ({\n        ...item.data(),\n        docId: item.id\n    }))\n\n    const productWithUserDetails = await userDetails.map((item) => {\n        let userCartedProduct = false\n        if (item.cart.length > 0) {\n            item.cart.map((cartItem) => {\n\n                userCartedProduct = false\n                if (cartItem.proId === proId) {\n                    userCartedProduct = true;\n                    return userCartedProduct;\n                }\n\n                return userCartedProduct\n            })\n\n        }\n        return userCartedProduct\n    })\n    return productWithUserDetails\n}\n\n\nexport default async function getUserCartItems(userId) {\n\n    const result = await firebase.firestore().collection('users').where(\"userId\", \"==\", userId).get()\n    const userDetails = result.docs.map((item) => ({ ...item.data(), docId: item.id }))\n\n    const userCart = await userDetails.map((item) => {\n        if (item.cart.length > 0) {\n            return item.cart.map((cart) => ({\n                proId: cart.proId,\n                size: cart.size,\n                count: cart.count,\n                name: cart.name,\n                price: cart.price\n\n            }))\n        }\n\n\n    }\n\n\n    )\n    return userCart\n\n}\n\nexport async function getUserOrderItems(userId) {\n\n    const result = await firebase.firestore().collection('users').where(\"userId\", \"==\", userId).get()\n    const userDetails = result.docs.map((item) => ({ ...item.data(), docId: item.id }))\n\n    const userOrder = await userDetails.map((item) => {\n        if (item.orders.length > 0) {\n            return item.orders.map((order) => ({\n                proId: order.proId,\n                size: order.size,\n                count: order.count,\n                name: order.name,\n                price: order.price\n\n            }))\n        }\n\n\n    }\n\n\n    )\n    return userOrder\n\n}\n\n\nexport async function deleteSpecifiedCartItem(userId, proId, name, count, size, price) {\n\n    const result = await firebase.firestore().collection('users').where(\"userId\", \"==\", userId).get()\n    const userDetails = result.docs.map((item) => ({ ...item.data(), docId: item.id }))\n    userDetails.map((item) => {\n\n        cart: FieldValue.arrayRemove({ proId, name, count, size, price })\n    })\n    //remove by fieldvalue\n\n}","import { Link } from 'react-router-dom'\nimport '../../custom_styles/product.css'\nimport propTypes from 'prop-types'\nimport * as ROUTES from '../../constants/routes'\nexport default function Product({ productname, productprice, proId, productdescription }) {\n\n\n    return (\n        //flex items-start pt-20 ml-5 w-4/4 \n\n        <Link to={`product-details/${proId}`}>\n            < div className=\"px-4 rounded-md select-none h-88 cards max-h-84\">\n                <div className=\"items-center pt-4 text-center product-images sm:mx-auto sm:container\">\n\n                    <img src={`/images/${productname}.jpg`} className=\"h-40 mx-auto\" />\n                </div>\n                <div className=\"items-center justify-between pt-3 pb-2 text-center\">\n                    <p className=\"items-center\">{productname}</p>\n                    <p className=\"items-center\">{'\\u20B9'} {productprice}</p>\n                    <p className=\"items-center\">{productdescription}</p>\n                    <div className=\"items-center justify-between mt-4 text-center\">\n\n\n\n                    </div>\n                </div>\n\n            </div >\n        </Link>\n    )\n}\n\nProduct.propTypes = {\n    productname: propTypes.string.isRequired,\n    productprice: propTypes.number.isRequired\n\n\n}","import { useContext, useEffect, useState } from \"react\"\nimport { Link, useHistory } from \"react-router-dom\"\nimport * as ROUTES from '../constants/routes'\nimport FirebaseContext from \"../context/firebase\"\nimport { doesUserEmailExists } from \"../services/firebase\"\n\n\n\nexport default function Signup() {\n\n    const { firebase } = useContext(FirebaseContext)\n    const [name, setName] = useState(\"\")\n    const [email, setEmail] = useState(\"\")\n    const [mobile, setMobile] = useState(\"\")\n    const [password, setPassword] = useState(\"\")\n    const [error, setError] = useState('')\n    const history = useHistory()\n    const isInvalid = name === \"\" || password === \"\" || email === \"\" || mobile === \"\"\n    const handleSignup = async (event) => {\n        event.preventDefault()\n        const emailAddressExists = await doesUserEmailExists(email)\n        if (emailAddressExists.length == 0) {\n            try {\n\n                const createdUser = await firebase.auth().createUserWithEmailAndPassword(email, password)\n                await createdUser.user.updateProfile({\n                    displayName: name\n                })\n                await firebase.firestore().collection('users').add({\n                    userId: createdUser.user.uid,\n                    userName: name.toLowerCase(),\n                    userMobile: mobile,\n                    cart: [],\n                    orders: [],\n                    userEmail: email.toLowerCase(),\n                    dateCreated: Date.now()\n                })\n                await firebase.firestore().collection('orders').add({\n                    userId: createdUser.user.uid,\n                    userName: name.toLowerCase(),\n                    mobile: mobile,\n                    orders: []\n                })\n                history.push(ROUTES.HOME)\n            }\n            catch (error) {\n                setName('')\n                setEmail('')\n                setPassword('')\n                setMobile('')\n                setError(error.message)\n            }\n        }\n        else {\n            setName('')\n            setEmail('')\n            setPassword('')\n            setMobile('')\n            setError(\"email is already taken\")\n        }\n\n    }\n\n    useEffect(() => {\n        document.title = \"Signup\"\n    }, [])\n\n    return (\n\n        <div className=\"container flex items-center h-screen mx-auto\">\n            <form className=\"container mx-auto\" method=\"POST\" onSubmit={handleSignup}>\n                <div className=\"container grid justify-between w-6/12 mx-auto\">\n                    {error && <p className=\"text-red-primary\">{error}</p>}\n\n                    <input\n                        onChange={({ target }) => { setName(target.value) }}\n                        type=\"text\" placeholder=\"enter your name\"\n                        className=\"h-10 mb-5 border border-white rounded focus:ring-2 focus:ring-purple-medium focus:outline-none focus:ring-purple-600 focus:border-transparent\" />\n                    <input\n                        onChange={({ target }) => { setEmail(target.value) }}\n                        type=\"email\" placeholder=\"enter your email address\"\n                        className=\"h-10 mb-5 border border-white rounded focus:ring-2 focus:ring-purple-medium focus:outline-none focus:ring-purple-600 focus:border-transparent\" />\n                    <input\n                        //here we not need to return setstate so {} is used i think\n                        onChange={({ target }) => { setMobile(target.value) }}\n                        type=\"tel\" placeholder=\"enter phone number\"\n                        className=\"h-10 mb-5 border border-white rounded focus:ring-2 focus:ring-purple-medium focus:outline-none focus:ring-purple-600 focus:border-transparent\" />\n                    <input\n                        onChange={({ target }) => { setPassword(target.value) }}\n                        type=\"password\" placeholder=\"enter your password\"\n                        className=\"h-10 mb-5 border border-white rounded focus:ring-2 focus:ring-purple-medium focus:outline-none focus:ring-purple-600 focus:border-transparent\" />\n\n                    <button\n                        disabled={false}\n                        type=\"submit\" className={`${isInvalid && 'opacity-50'} items-center w-20 p-2 mx-auto font-bold text-white border-transparent rounded-md outline-none bg-purple-medium hover:bg-purple-dark focus:outline-none focus:ring-2 focus:ring-purple-600 focus:ring-opacity-50`} >Signup</button>\n                    <div className=\"flex flex-row justify-center\">\n                        <p>Already have an account?</p>\n                        <Link to={ROUTES.LOGIN} className=\"text-purple-dark\">Login here</Link>\n                    </div>\n\n                </div>\n\n            </form>\n\n\n            <img src=\"/images/girls.jpeg\" className=\"w-1/5\" />\n\n        </div>\n\n    )\n}"],"sourceRoot":""}